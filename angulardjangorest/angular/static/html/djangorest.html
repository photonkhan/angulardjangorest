<div class='container' ng-controller='djangorestCtrl'>
    <div class = 'row text-center'>
        <div class = 'col'>
            <h4 class='lead text-shadow-5'>
                Django Rest Api
            </h4>
        </div>
    </div>
    <div class='row mt-3 box-shadow-1 border p-3'>
        <div class='col'>
            <div class='card box-shadow-1' >
                <div class = 'card-header'>
                    <p class = 'lead'>
                        <strong class = 'text-shadow text-info'>View the Data</strong>
                    </p>
                </div>
                <div class='card-body border-bottom' ng-repeat ='r in restData'>
                    <div>
                        Id: {{r.id}}
                    </div>
                    <div>
                        {{r.name}}
                    </div>
                    <div>
                        {{r.email}}
                    </div>
                    <div>
                        {{r.address}}
                    </div>
                </div>
                <div class = 'card-footer'>
                    Total Number of Contacts : <strong>{{restData.length}}</strong>
                </div>
            </div>
        </div>
        <div class = 'col'>
            <div class = 'card box-shadow-1'>
                <div class = 'card-header'>
                    <p class = 'lead'>
                        <strong class = 'text-shadow text-success'> Create Data </strong>
                    </p>
                </div>
                <div class = 'card-body'>
                    <form name = 'restForm' ng-submit = 'addContact()'>
                        <div class = 'input-group'>
                            <div class = 'input-group-prepend'>
                                <span class = 'input-group-text'>
                                    <i class = 'fa fa-user'></i>
                                </span>
                            </div>
                            <input type = 'text' class = 'form-control' name = 'fullname' ng-model = 'contact.name' ng-pattern = '/^[A-Za-z ]{2,16}$/' required/>
                        </div>
                        <p>
                            <span class = 'text-danger' ng-show = 'restForm.fullname.$touched && restForm.fullname.$invalid'>
                                Invalid Name
                            </span>
                        </p>
                        <div class = 'input-group'>
                            <div class = 'input-group-prepend'>
                                <span class = 'input-group-text'>
                                    <i class = 'fa fa-envelope'></i>
                                </span>
                            </div>
                            <input type = 'text' class = 'form-control' name = 'email' ng-model = 'contact.email' ng-pattern = '/^[A-Za-z]+[A-Za-z_\.]+[@]{1}[A-Za-z]+[\.]+[A-Za-z]+$/' required/>
                        </div>
                        <p>
                            <span class = 'text-danger' ng-show = 'restForm.email.$touched && restForm.email.$invalid'>
                                Invalid Email Address
                            </span>
                        </p>
                        <div class = 'input-group'>
                            <div class = 'input-group-prepend'>
                                <span class = 'input-group-text'>
                                    <i class = 'fa fa-map-marker'></i>
                                </span>
                            </div>
                            <input type = 'text' class = 'form-control' name = 'address' ng-model = 'contact.address' required/>
                        </div>
                        <p>
                            <span class = 'text-danger' ng-show = 'restForm.address.$touched && restForm.address.$invalid'>
                                Invalid Location
                            </span>
                        </p>
                        <input type = 'submit' class = 'btn btn-success box-shadow-1' value = 'Add Contact'/>
                        <p>
                            <span class = 'text-success add-contact-form-status'></span>
                        </p>
                    </form>
                </div>
            </div>
        </div>
        <div class = 'col'>
            <div class = 'card box-shadow-1'>
                <div class = 'card-header'>
                    <p class = 'lead'>
                        <strong class = 'text-shadow text-primary'> Update Data </strong>
                    </p>
                </div>
                <div class = 'card-body'>
                    <form ng-submit = 'updateContact()'>
                        <div class = 'input-group'>
                            <select ng-options = 'rd.name for rd in restData' ng-model = 'updateSelectedContact' 
                                    ng-change = 'showUpdateContact()' class = 'form-control'></select>
                        </div>
                        <div class = 'mt-3 mb-3'>
                            <div class = 'input-group'>
                                <input type = 'hidden' ng-model = 'ucontact.id'/>
                                <input type = 'text' class = 'form-control' placeholder = 'Update your name'
                                        ng-model = 'ucontact.fullname'
                                        name = 'fullname' ng-pattern = '/^[A-Za-z ]{2,16}$/'/>
                                    </div>
                                </div>
                                <div class = 'mt-3 mb-3'>
                                    <div class = 'input-group'>
                                        <input type = 'text' class = 'form-control' placeholder = 'Update your email' 
                                        ng-model = 'ucontact.email'
                                        name = 'email' ng-pattern = '/^[A-Za-z]+[A-Za-z_\.]+[@]{1}[A-Za-z]+[\.]+[A-Za-z]+$/'/>
                                    </div>
                                </div>
                                <div class = 'mt-3 mb-3'>
                                    <div class = 'input-group'>
                                        <input type = 'text' class = 'form-control' placeholder = 'Update your address' 
                                        ng-model = 'ucontact.address'
                                        name = 'address'/>
                            </div>
                        </div>
                        <input type = 'submit' class = 'form-control btn btn-primary box-shadow-1' value = 'Update Contact'/>
                    </form>
                </div>
            </div>
        </div>
        <div class = 'col'>
            <div class = 'card box-shadow-1'>
                <div class = 'card-header'>
                    <p class = 'lead'>
                        <strong class = 'text-shadow text-danger'> Delete Data </strong>
                    </p>
                </div>
                <div class = 'card-body'>
                    <form ng-submit = 'deleteContact()'>
                        <div class = 'input-group mb-3'>
                            <select ng-options = 'rd.name for rd in restData' ng-model = 'deleteSelectedContact' class = 'form-control'></select>
                        </div>
                        <input type = 'submit' class = 'form-control btn btn-danger box-shadow-1' value = 'Delete Contact'/>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>